{% extends 'base.html.twig' %}

{% block title %}Gestion des véhicules
{% endblock %}

{% block javascripts %}
	<script type="text/javascript" src="{{ asset('js/submit_form.js') }}"></script>
	<script type="text/javascript" src="{{ asset('js/crud_modal.js') }}"></script>
{% endblock %}

{% block body %}
	<div class="container">
		<h1 class="py-5 text-center text-4xl font-medium">Gestion des véhicules</h1>
		<button type="button" data-target="new" class="crud_btn h-10 px-6 bg-amber-600 text-white font-medium hover:bg-amber-600/75">Ajouter</button>
		<table class="mt-3 table w-full text-center">
			<thead class="h-10 bg-amber-600 text-white">
				<tr class="font-medium">
					<th class="w-1/3">Marque</th>
					<th class="w-1/3">Modèle</th>
					<th class="w-1/3">Actions</th>
				</tr>
			</thead>
			<tbody>
				{% for vehicle in vehicles %}
					<tr class="even:bg-gray-100">
						<td class="py-2">{{ vehicle.brand }}</td>
						<td class="py-2">{{ vehicle.model }}</td>
						<td class="py-2 flex flex-col">
							<button type="button" data-id="{{vehicle.id}}" data-target="edit" class="crud_btn btnHover h-auto font-medium">Modifier</button>
							<button type="button" data-id="{{vehicle.id}}" data-target="delete" class="crud_btn btnHover h-auto font-medium">Supprimer</button>
						</td>
					</tr>
				{% else %}
					<tr>
						<td colspan="4" class="py-4 text-center">Pas de véhicule trouvé</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
	<div id="backgroundModal" class="hidden absolute left-0 top-0 w-screen h-screen bg-gray-400 opacity-60"></div>
	<div id="modal" class="hidden modal">
		<div id="formContent"></div>
		<div class="text-center pt-6">
			<button type="submit" id="submit_btn" data-target="" data-id="" class="btn">Confirmer</button>
			<button type="button" data-target="cancel" class="crud_btn negativeBtn">Annuler</button>
		</div>
	</div>
{% endblock %}
